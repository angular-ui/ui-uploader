/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.1.2 - 2015-09-14T08:15:55.941Z
 * License: MIT
 */
!function(){"use strict";function o(o){function e(o){for(var e=0;e<o.length;e++)d.files.push(o[e])}function i(){return d.files}function n(o){d.options=o;for(var e=0;e<d.files.length&&d.activeUploads!=d.options.concurrency;e++)d.files[e].active||r(d.files[e],d.options.url,d.options.data)}function t(o){d.files.splice(d.files.indexOf(o),1)}function l(){d.files.splice(0,d.files.length)}function s(o){var e=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],i=0===o?0:+Math.floor(Math.log(o)/Math.log(1024));return(o/Math.pow(1024,i)).toFixed(i?1:0)+" "+e[isNaN(o)?0:i+1]}function a(o){return typeof o==typeof Function}function r(o,e,i){var t,l,r,p="file";if(i=i||{},d.activeUploads+=1,o.active=!0,t=new window.XMLHttpRequest,i.withCredentials===!0&&(t.withCredentials=!0),i.timeout&&(t.timeout=i.timeout),l=new window.FormData,t.open("POST",e),t.upload.onloadstart=function(){},t.upload.onprogress=function(e){e.lengthComputable&&(o.loaded=e.loaded,o.humanSize=s(e.loaded),d.options.onProgress(o))},t.onload=function(){d.activeUploads-=1,d.uploadedFiles+=1,n(d.options),d.options.onCompleted(o,t.responseText,t.status),d.uploadedFiles===d.files.length&&(d.uploadedFiles=0,d.options.onCompletedAll(d.files))},t.onerror=function(o){a(d.options.onError)&&d.options.onError(o)},i)for(r in i)i.hasOwnProperty(r)&&l.append(r,i[r]);return l.append(p,o,o.name),t.send(l),t}var d=this;return d.files=[],d.options={},d.activeUploads=0,d.uploadedFiles=0,o.info("uiUploader loaded"),{addFiles:e,getFiles:i,files:d.files,startUpload:n,removeFile:t,removeAll:l}}angular.module("ui.uploader",[]).service("uiUploader",o),o.$inject=["$log"]}();