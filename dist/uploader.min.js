/*!
 * angular-ui-uploader
 * https://github.com/angular-ui/ui-uploader
 * Version: 1.1.1 - 2015-08-05T02:10:41.396Z
 * License: MIT
 */
!function(){"use strict";function e(e){function o(e){for(var o=0;o<e.length;o++)d.files.push(e[o])}function i(){return d.files}function n(e){d.options=e;for(var o=0;o<d.files.length&&d.activeUploads!=d.options.concurrency;o++)d.files[o].active||a(d.files[o],d.options.url,d.options.data)}function t(e){d.files.splice(d.files.indexOf(e),1)}function l(){d.files.splice(0,d.files.length)}function s(e){var o=["n/a","bytes","KiB","MiB","GiB","TB","PB","EiB","ZiB","YiB"],i=0===e?0:+Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,i)).toFixed(i?1:0)+" "+o[isNaN(e)?0:i+1]}function a(e,o,i){var t,l,a,r="file";if(i=i||{},d.activeUploads+=1,e.active=!0,t=new window.XMLHttpRequest,i.withCredentials===!0&&(t.withCredentials=!0),l=new window.FormData,t.open("POST",o),t.upload.onloadstart=function(){},t.upload.onprogress=function(o){o.lengthComputable&&(e.loaded=o.loaded,e.humanSize=s(o.loaded),d.options.onProgress(e))},t.onload=function(){d.activeUploads-=1,d.uploadedFiles+=1,n(d.options),d.options.onCompleted(e,t.responseText,t.status),d.uploadedFiles===d.files.length&&(d.uploadedFiles=0,d.options.onCompletedAll(d.files))},t.onerror=function(){},i)for(a in i)i.hasOwnProperty(a)&&l.append(a,i[a]);return l.append(r,e,e.name),t.send(l),t}var d=this;return d.files=[],d.options={},d.activeUploads=0,d.uploadedFiles=0,e.info("uiUploader loaded"),{addFiles:o,getFiles:i,files:d.files,startUpload:n,removeFile:t,removeAll:l}}angular.module("ui.uploader",[]).service("uiUploader",e),e.$inject=["$log"]}();